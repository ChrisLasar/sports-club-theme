{{- /* Member Card Partial */ -}}
{{- $showPortrait := and .Params.visibility.portraitConsent .Params.portrait -}}

<div class="card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow">
  {{ if $showPortrait }}
  <figure class="px-10 pt-10">
    {{- partial "responsive-image.html" (dict "context" . "src" .Params.portrait "alt" .Title "class" "rounded-full w-32 h-32 object-cover mx-auto") -}}
  </figure>
  {{ else }}
  <figure class="px-10 pt-10">
    <div class="rounded-full w-32 h-32 bg-base-300 flex items-center justify-center mx-auto">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 opacity-30" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
      </svg>
    </div>
  </figure>
  {{ end }}
  
  <div class="card-body items-center text-center">
    <h3 class="card-title">{{ .Title }}</h3>
    {{ with .Params.role }}
    <p class="text-sm opacity-70">{{ . }}</p>
    {{ end }}
    
    {{- /* Teams badge */ -}}
    {{ with .Params.teams }}
    <div class="flex gap-1 flex-wrap justify-center mt-2">
      {{ range first 2 . }}
        {{ with site.GetPage . }}
        <span class="badge badge-sm badge-outline">{{ .Params.group }}</span>
        {{ end }}
      {{ end }}
      {{ if gt (len .) 2 }}
        <span class="badge badge-sm badge-ghost">+{{ sub (len .) 2 }}</span>
      {{ end }}
    </div>
    {{ end }}
    
    <div class="card-actions mt-4">
      <a href="{{ .RelPermalink }}" class="btn btn-sm btn-outline">View Profile</a>
    </div>
  </div>
</div>
